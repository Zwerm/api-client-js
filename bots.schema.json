{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "title": "bots",
    "type": "object",
    "definitions": {
        "engines": {
            "oneOf": [
                { "$ref": "#/definitions/aws-lex" },
                { "$ref": "#/definitions/dialogflow" }
            ]
        },
        "aws-region-lex": {
            "type": "string",
            "enum": [
                "us-east-1",
                "eu-west-1"
            ]
        },
        "aws-region": {
            "type": "string",
            "enum": [
                "us-east-1",
                "us-east-2",
                "us-west-1",
                "us-west-2",
                "ca-central-1",
                "eu-west-1",
                "eu-central-1",
                "eu-west-2",
                "ap-northeast-1",
                "ap-northeast-2",
                "ap-southeast-1",
                "ap-southeast-2",
                "ap-south-1",
                "sa-east-1"
            ]
        },
        "aws-lex": {
            "type": "object",
            "properties": {
                "service": { "enum": [ "aws-lex" ] },
                "settings": {
                    "properties": {
                        "botName": { "type": "string" },
                        "botAlias": { "type": "string" },
                        "awsRegion": {
                            "$ref": "#/definitions/aws-region-lex"
                        }
                    },
                    "required": [ "botAlias", "botName", "awsRegion" ],
                    "additionalProperties": false
                }
            },
            "required": [ "service", "settings" ]
        },
        "dialogflow": {
            "type": "object",
            "properties": {
                "service": { "enum": [ "dialogflow" ] },
                "settings": {
                    "properties": {
                        "clientToken": { "type": "string" }
                    },
                    "required": [ "clientToken" ],
                    "additionalProperties": false
                }
            },
            "required": [ "service", "settings" ]
        },
        "aws-polly-voice": {
            "type": "string",
            "enum": [
                "Geraint",
                "Gwyneth",
                "Mads",
                "Naja",
                "Hans",
                "Marlene",
                "Nicole",
                "Russell",
                "Amy",
                "Brian",
                "Emma",
                "Raveena",
                "Ivy",
                "Joanna",
                "Joey",
                "Justin",
                "Kendra",
                "Kimberly",
                "Matthew",
                "Salli",
                "Conchita",
                "Enrique",
                "Miguel",
                "Penelope",
                "Chantal",
                "Celine",
                "Mathieu",
                "Dora",
                "Karl",
                "Carla",
                "Giorgio",
                "Mizuki",
                "Liv",
                "Lotte",
                "Ruben",
                "Ewa",
                "Jacek",
                "Jan",
                "Maja",
                "Ricardo",
                "Vitoria",
                "Cristiano",
                "Ines",
                "Carmen",
                "Maxim",
                "Tatyana",
                "Astrid",
                "Filiz",
                "Vicki",
                "Takumi",
                "Seoyeon",
                "Aditi"
            ]
        },
        "interfaces": {
            "oneOf": [
                { "$ref": "#/definitions/botsocketInterface" },
                { "$ref": "#/definitions/facebookInterface" }
            ]
        },
        "botsocketInterface": {
            "type": "object",
            "properties": { },
            "additionalProperties": false
        },
        "facebookInterface": {
            "type": "object",
            "properties": {
                "verifyToken": { "type": "string" },
                "pageToken": { "type": "string" }
            },
            "required": [ "verifyToken", "pageToken" ],
            "additionalProperties": false
        }
    },
    "properties": { "$schema": { "type": "string" } },
    "additionalProperties": {
        "type": "object",
        "properties": {
            "name": { "type": "string" },
            "routes": {
                "type": "array",
                "items": { "type": "string" },
                "uniqueItems": true
            },
            "engine": { "$ref": "#/definitions/engines" },
            "options": {
                "type": "object",
                "properties": {
                    "voice": { "$ref": "#/definitions/aws-polly-voice" }
                }
            },
            "interfaces": {
                "type": "object",
                "properties": {
                    "botsocket": { "$ref": "#/definitions/botsocketInterface" },
                    "facebook": { "$ref": "#/definitions/facebookInterface" }
                },
                "minProperties": 1
            }
        },
        "required": [ "name", "routes", "engine", "interfaces" ]
    }
}
